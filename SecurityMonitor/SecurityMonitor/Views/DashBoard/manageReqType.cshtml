@model SecurityMonitor.Models.managementVM
@using SecurityMonitor.Models


@{
    ViewBag.Title = "";
    Layout = "~/Views/Shared/_Layout.cshtml";
}


<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 " >
    <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6   " style="padding-bottom:20px;">
        @using (Html.BeginForm())
        {
            @Html.AntiForgeryToken()



            @Html.ValidationSummary(true, "", new { @class = "text-danger" })

            <div class="col-md-12 ">

                <div class="col-md-12" style="padding-bottom:60px;">
                    <div class="col-md-12">
                        <h4>Search by First or Last Name:</h4>
                    </div>
                    <div class="col-md-6">
                       @Html.TextBox("Search",null, new { @class = "form-control" })
                    </div>
                    <div class="col-md-6">
                        <input type="submit" value="Search" class="btn btn-default" />
                    </div>
                </div>

            </div>

        }

        <!--====================ReqType Management===============================-->
        @{


            if (Model.Tenants != null)
            {
             
              foreach (var item in Model.Tenants)
                {
                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 BKHead " style="padding-bottom:60px; padding-top:30px; border-bottom:1px solid lightgrey;">
                        <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6  " style="padding-bottom:10px; color:black;">
                            @item.FirstName @item.LastName
                        </div>
                       
                            <div class="col-lg-3 col-md-3 col-sm-3 col-xs-3  ">
                                <button class="btn btn-default" 
                                        onclick="location.href = '@Url.Action("ApartmentProfile", "Building", new {ApartmentID = @item.aptID})'">Tenant Information</button>
                            </div>

                        <div class="col-lg-3 col-md-3 col-sm-3 col-xs-3  ">
                            <button class="btn btn-default"
                                    onclick="location.href = '@Url.Action("TenantRequest", "Building", new { TenantID = @item.aptID })'">
                                New Request
                            </button>
                        </div>
                                                         
                        
                    </div>
                }
            }
            else
            {
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 BKHead " style="padding-bottom:60px; padding-top:30px; border-bottom:1px solid lightgrey;">
                    <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6  " style="padding-bottom:10px; color:black;">
                        No Search...
                    </div>
                    <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6  ">
                    </div>
                </div>
            }



        }

        <!--====================ReqType Management ends===============================-->
    </div>

   <!--===========================================Search begins===================================-->
    <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 boxtitle  " style="padding-bottom:20px;">
        @using (Html.BeginForm())
        {
            @Html.AntiForgeryToken()



            @Html.ValidationSummary(true, "", new { @class = "text-danger" })

            <div class="col-md-12 ">

                <div class="col-md-12" style="padding-bottom:60px;">
                    <div class="col-md-12">
                        <h4>Enter Request Type</h4>
                    </div>
                    <div class="col-md-6">
                        @Html.EditorFor(model => model.ReqType.ReqType1, new { htmlAttributes = new { @class = "form-control" } })
                        @Html.ValidationMessageFor(model => model.ReqType.ReqType1, "", new { @class = "text-danger" })
                    </div>
                    <div class="col-md-6">
                        <input type="submit" value="Create"  class="btn btn-default" />
                    </div>
                </div>
            </div>
        }

        <!--====================ReqType Management===============================-->
        @{

            IEnumerable<SelectListItem> ReqType = ViewBag.reqType;
            foreach (var item in @ReqType)
            {
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 BKHead " style="padding-bottom:60px; padding-top:30px; border-bottom:1px solid lightgrey;">
                    <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6  " style="padding-bottom:10px; color:black;">
                        @item.Text
                    </div>

                    @using (Html.BeginForm(new { ReqTypeID = Convert.ToInt32(@item.Value) }))
                    {
                        @Html.AntiForgeryToken()
                        <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6  ">
                            <div class="form-actions no-color">
                                <input type="submit" value="Remove Category" class="btn btn-default" />

                            </div>
                        </div>
                    }
                </div>

            }


        }

        <!--====================ReqType Management ends===============================-->
    </div>
</div>


